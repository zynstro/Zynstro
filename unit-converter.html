<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="favicon-16x16.png" type="image/x-icon">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üåç Premium World Clock & Time Zone Converter</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

    :root {
      --primary: #007bff;
      --accent: #00e0ff;
      --bg-light: #eaf4ff;
      --bg-dark: #0d1117;
      --text-light: #222;
      --text-dark: #f1f1f1;
      --card-light: rgba(255, 255, 255, 0.85);
      --card-dark: rgba(30, 30, 45, 0.9);
      --glass: blur(12px) saturate(180%);
    }

    body {
      font-family: "Poppins", sans-serif;
      background: var(--bg-light);
      color: var(--text-light);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      transition: background 0.5s ease, color 0.5s ease;
      background-image: radial-gradient(circle at top, #cde7ff, #eef8ff 80%);
    }

    body.dark {
      background: var(--bg-dark);
      color: var(--text-dark);
      background-image: radial-gradient(circle at top left, #111827, #0d1117 80%);
    }

    .container {
      backdrop-filter: var(--glass);
      -webkit-backdrop-filter: var(--glass);
      background: var(--card-light);
      border-radius: 20px;
      padding: 35px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      width: 95%;
      max-width: 800px;
      transition: all 0.5s ease;
      text-align: center;
    }

    body.dark .container {
      background: var(--card-dark);
    }

    h2 {
      color: var(--primary);
      font-weight: 700;
      letter-spacing: 1px;
      margin-bottom: 10px;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 20px;
    }

    label {
      font-weight: 600;
      font-size: 14px;
      text-align: left;
      display: block;
      margin-bottom: 6px;
    }

    input, select {
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 15px;
      outline: none;
      transition: all 0.3s;
      background: rgba(255,255,255,0.8);
    }

    input:focus, select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 6px var(--accent);
    }

    button {
      margin-top: 20px;
      padding: 12px 25px;
      border-radius: 12px;
      border: none;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      color: white;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(0, 123, 255, 0.5);
    }

    .result {
      margin-top: 20px;
      font-size: 18px;
      font-weight: 600;
    }

    .clock {
      margin-top: 15px;
      font-size: 14px;
      opacity: 0.85;
    }

    .map-container {
      position: relative;
      width: 100%;
      height: 200px;
      margin-top: 25px;
      border-radius: 16px;
      overflow: hidden;
      background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Mercator_projection_SW.jpg/1024px-Mercator_projection_SW.jpg') center/cover no-repeat;
      box-shadow: 0 0 20px rgba(0, 123, 255, 0.3);
    }

    .glow {
      position: absolute;
      width: 25px;
      height: 25px;
      background: radial-gradient(circle, rgba(0,255,255,0.8), transparent 70%);
      border-radius: 50%;
      transition: all 0.5s ease;
    }

    .dark-toggle {
      position: absolute;
      top: 25px;
      right: 30px;
      background: none;
      border: 2px solid var(--primary);
      border-radius: 50%;
      color: var(--primary);
      width: 45px;
      height: 45px;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .dark-toggle:hover {
      background: var(--primary);
      color: #fff;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in { animation: fadeIn 0.6s ease; }
  </style>
</head>
<body>
  <button class="dark-toggle" id="themeToggle">üåô</button>

  <div class="container fade-in">
    <h2>üåé World Clock & Time Zone Converter</h2>
    <p style="font-size:14px;opacity:0.8;">Convert time instantly between any two cities with live preview and world map glow.</p>

    <input type="datetime-local" id="dateInput">

    <div class="grid">
      <div>
        <label>From Time Zone</label>
        <select id="fromZone"></select>
        <div class="clock" id="fromClock"></div>
      </div>

      <div>
        <label>To Time Zone</label>
        <select id="toZone"></select>
        <div class="clock" id="toClock"></div>
      </div>
    </div>

    <button onclick="convertTime()">Convert Now</button>
    <div class="result" id="outputResult"></div>

    <div class="map-container">
      <div class="glow" id="fromGlow"></div>
      <div class="glow" id="toGlow"></div>
    </div>
  </div>

  <script>
    const fromZone = document.getElementById("fromZone");
    const toZone = document.getElementById("toZone");
    const fromClock = document.getElementById("fromClock");
    const toClock = document.getElementById("toClock");
    const fromGlow = document.getElementById("fromGlow");
    const toGlow = document.getElementById("toGlow");
    const themeToggle = document.getElementById("themeToggle");

    const cities = [
      { name: "Karachi, Pakistan", zone: "Asia/Karachi", x: 600, y: 100 },
      { name: "Islamabad, Pakistan", zone: "Asia/Karachi", x: 590, y: 95 },
      { name: "London, UK", zone: "Europe/London", x: 400, y: 70 },
      { name: "New York, USA", zone: "America/New_York", x: 230, y: 100 },
      { name: "Tokyo, Japan", zone: "Asia/Tokyo", x: 830, y: 110 },
      { name: "Dubai, UAE", zone: "Asia/Dubai", x: 520, y: 110 },
      { name: "Sydney, Australia", zone: "Australia/Sydney", x: 880, y: 200 },
      { name: "Toronto, Canada", zone: "America/Toronto", x: 240, y: 90 },
      { name: "Paris, France", zone: "Europe/Paris", x: 430, y: 80 },
      { name: "Beijing, China", zone: "Asia/Shanghai", x: 720, y: 95 }
    ];

    // Populate city dropdowns
    cities.forEach(city => {
      const opt1 = document.createElement("option");
      const opt2 = document.createElement("option");
      opt1.value = opt2.value = city.zone;
      opt1.textContent = "‚≠ê " + city.name;
      opt2.textContent = "‚≠ê " + city.name;
      fromZone.appendChild(opt1);
      toZone.appendChild(opt2);
    });

    fromZone.value = "Asia/Karachi";
    toZone.value = "Europe/London";

    function updateClock() {
      const now = new Date();
      fromClock.textContent = "Local Time: " + now.toLocaleTimeString("en-US", { timeZone: fromZone.value });
      toClock.textContent = "Local Time: " + now.toLocaleTimeString("en-US", { timeZone: toZone.value });
      requestAnimationFrame(updateClock);
    }
    updateClock();

    function convertTime() {
      const dateInput = document.getElementById("dateInput").value;
      const output = document.getElementById("outputResult");

      if (!dateInput) {
        output.textContent = "‚ö†Ô∏è Please select a date and time.";
        return;
      }

      const from = fromZone.value;
      const to = toZone.value;
      const date = new Date(dateInput);
      const sourceTime = new Date(date.toLocaleString("en-US", { timeZone: from }));
      const convertedTime = new Date(sourceTime.toLocaleString("en-US", { timeZone: to }));

      output.textContent = `üïí ${convertedTime.toLocaleString()} (${to})`;
      moveGlow(from, to);
    }

    // Move glowing dots on world map
    function moveGlow(from, to) {
      const fromCity = cities.find(c => c.zone === from);
      const toCity = cities.find(c => c.zone === to);

      if (fromCity) {
        fromGlow.style.left = fromCity.x + "px";
        fromGlow.style.top = fromCity.y + "px";
      }
      if (toCity) {
        toGlow.style.left = toCity.x + "px";
        toGlow.style.top = toCity.y + "px";
      }
    }

    // Theme switch
    themeToggle.addEventListener("click", () => {
      document.body.classList.toggle("dark");
      themeToggle.textContent = document.body.classList.contains("dark") ? "‚òÄÔ∏è" : "üåô";
    });
  </script>
</body>
</html>
