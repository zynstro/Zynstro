<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Premium World Clock Dashboard</title>
<style>
:root {
  --primary: #007bff;
  --hover: #0056b3;
  --bg: #eef8ff;
  --card-bg: #fff;
  --text: #333;
  --dark-bg: #121212;
  --dark-card: #1e1e1e;
  --dark-text: #f1f1f1;
}

body {
  font-family: Arial, sans-serif;
  background: var(--bg);
  margin: 0;
  padding: 20px;
  transition: background 0.3s;
}

.dark-mode body { background: var(--dark-bg); }

.container {
  max-width: 1200px;
  margin: auto;
  background: var(--card-bg);
  border-radius: 12px;
  padding: 20px;
  transition: background 0.3s, color 0.3s;
}

.dark-mode .container { background: var(--dark-card); color: var(--dark-text); }

h2 { text-align:center; color: var(--primary); margin-bottom: 20px; }
label { font-weight: bold; display:block; margin-top: 10px; }
input, select, button { width:100%; padding:10px; margin-top:5px; border-radius:8px; border:1px solid #ccc; font-size:16px; transition:all 0.3s; }
.dark-mode input, .dark-mode select { background:#333; color:#f1f1f1; border:1px solid #555; }
button { background: var(--primary); color: white; border: none; cursor: pointer; margin-top: 15px; }
button:hover { background: var(--hover); }

.controls { display:grid; grid-template-columns:1fr 1fr; gap:15px; margin-top:10px; }

.copy-btn { margin-top: 10px; padding: 8px 14px; border-radius:6px; background:#28a745; color:white; cursor:pointer; border:none; }
.copy-btn:hover { background:#218838; }

.dark-toggle { margin-top: 15px; cursor:pointer; text-decoration: underline; text-align:center; color: var(--primary); }
.dark-mode .dark-toggle { color: #66b2ff; }

.dashboard { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px; justify-content: center; }
.card { background: var(--card-bg); padding:15px; border-radius:12px; text-align:center; width:200px; box-shadow:0 4px 12px rgba(0,0,0,0.1); transition: all 0.3s; }
.dark-mode .card { background: var(--dark-card); color: #f1f1f1; }
.card:hover { transform: translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,0.2); }
.flag { font-size: 30px; }
.time { font-size:28px; font-weight:bold; margin:10px 0; }
.city-name { font-size:18px; font-weight:600; }
.remove-btn { margin-top:5px; font-size:12px; padding:5px 8px; border:none; background:#dc3545; color:white; border-radius:5px; cursor:pointer; }
.remove-btn:hover { background:#c82333; }

.sort-controls { display:flex; justify-content:flex-end; gap:10px; margin-top:15px; }
.sort-controls button { width:auto; padding:6px 12px; font-size:14px; }
</style>
</head>
<body>
<div class="container">
  <h2>Premium World Clock Dashboard</h2>

  <label>Select Date & Time (Optional)</label>
  <input type="datetime-local" id="dateInput" />

  <div class="controls">
    <div>
      <label>From City</label>
      <select id="fromCity"></select>
      <label>From Time Zone</label>
      <select id="fromZone"></select>
    </div>
    <div>
      <label>To City</label>
      <select id="toCity"></select>
      <label>To Time Zone</label>
      <select id="toZone"></select>
    </div>
  </div>

  <button onclick="convertTime()">Convert</button>
  <div class="result" id="outputResult"></div>
  <button class="copy-btn" onclick="copyResult()">Copy Result</button>
  <div class="dark-toggle" onclick="toggleDarkMode()">Toggle Dark Mode</div>

  <div class="sort-controls">
    <button onclick="sortDashboard('name')">Sort by City</button>
    <button onclick="sortDashboard('time')">Sort by Time</button>
  </div>

  <div class="dashboard" id="dashboard"></div>
</div>

<script>
const cities = [
  {name: "New York", zone: "America/New_York", flag:"ðŸ‡ºðŸ‡¸"},
  {name: "London", zone: "Europe/London", flag:"ðŸ‡¬ðŸ‡§"},
  {name: "Tokyo", zone: "Asia/Tokyo", flag:"ðŸ‡¯ðŸ‡µ"},
  {name: "Sydney", zone: "Australia/Sydney", flag:"ðŸ‡¦ðŸ‡º"},
  {name: "Paris", zone: "Europe/Paris", flag:"ðŸ‡«ðŸ‡·"},
  {name: "Dubai", zone: "Asia/Dubai", flag:"ðŸ‡¦ðŸ‡ª"},
  {name: "Mumbai", zone: "Asia/Kolkata", flag:"ðŸ‡®ðŸ‡³"},
  {name: "Los Angeles", zone: "America/Los_Angeles", flag:"ðŸ‡ºðŸ‡¸"},
  {name: "Moscow", zone: "Europe/Moscow", flag:"ðŸ‡·ðŸ‡º"},
  {name: "Beijing", zone: "Asia/Shanghai", flag:"ðŸ‡¨ðŸ‡³"},
  {name: "Karachi", zone: "Asia/Karachi", flag:"ðŸ‡µðŸ‡°"},
  {name: "Islamabad", zone: "Asia/Karachi", flag:"ðŸ‡µðŸ‡°"},
  {name: "Singapore", zone: "Asia/Singapore", flag:"ðŸ‡¸ðŸ‡¬"},
  {name: "Berlin", zone: "Europe/Berlin", flag:"ðŸ‡©ðŸ‡ª"},
  {name: "Rome", zone: "Europe/Rome", flag:"ðŸ‡®ðŸ‡¹"},
  {name: "Toronto", zone: "America/Toronto", flag:"ðŸ‡¨ðŸ‡¦"},
  {name: "Bangkok", zone: "Asia/Bangkok", flag:"ðŸ‡¹ðŸ‡­"},
  {name: "Seoul", zone: "Asia/Seoul", flag:"ðŸ‡°ðŸ‡·"},
  {name: "Honolulu", zone: "Pacific/Honolulu", flag:"ðŸ‡ºðŸ‡¸"},
  {name: "Mexico City", zone: "America/Mexico_City", flag:"ðŸ‡²ðŸ‡½"},
  {name: "Istanbul", zone: "Europe/Istanbul", flag:"ðŸ‡¹ðŸ‡·"},
  {name: "Johannesburg", zone: "Africa/Johannesburg", flag:"ðŸ‡¿ðŸ‡¦"},
  {name: "Lagos", zone: "Africa/Lagos", flag:"ðŸ‡³ðŸ‡¬"},
  {name: "Cairo", zone: "Africa/Cairo", flag:"ðŸ‡ªðŸ‡¬"},
  {name: "Buenos Aires", zone: "America/Argentina/Buenos_Aires", flag:"ðŸ‡¦ðŸ‡·"},
  {name: "Sao Paulo", zone: "America/Sao_Paulo", flag:"ðŸ‡§ðŸ‡·"},
  {name: "Karachi", zone: "Asia/Karachi", flag:"ðŸ‡µðŸ‡°"},
  {name: "Islamabad", zone: "Asia/Karachi", flag:"ðŸ‡µðŸ‡°"},
  {name: "Jakarta", zone: "Asia/Jakarta", flag:"ðŸ‡®ðŸ‡©"},
  {name: "Manila", zone: "Asia/Manila", flag:"ðŸ‡µðŸ‡­"},
  {name: "Helsinki", zone: "Europe/Helsinki", flag:"ðŸ‡«ðŸ‡®"},
  {name: "Stockholm", zone: "Europe/Stockholm", flag:"ðŸ‡¸ðŸ‡ª"},
  {name: "Oslo", zone: "Europe/Oslo", flag:"ðŸ‡³ðŸ‡´"},
  {name: "Lisbon", zone: "Europe/Lisbon", flag:"ðŸ‡µðŸ‡¹"},
  {name: "Madrid", zone: "Europe/Madrid", flag:"ðŸ‡ªðŸ‡¸"},
  {name: "Athens", zone: "Europe/Athens", flag:"ðŸ‡¬ðŸ‡·"},
  {name: "Kuala Lumpur", zone: "Asia/Kuala_Lumpur", flag:"ðŸ‡²ðŸ‡¾"},
  {name: "Bangkok", zone: "Asia/Bangkok", flag:"ðŸ‡¹ðŸ‡­"},
  {name: "Hanoi", zone: "Asia/Ho_Chi_Minh", flag:"ðŸ‡»ðŸ‡³"},
  {name: "Karachi", zone: "Asia/Karachi", flag:"ðŸ‡µðŸ‡°"},
  {name: "Islamabad", zone: "Asia/Karachi", flag:"ðŸ‡µðŸ‡°"}
];

const timeZones = Intl.supportedValuesOf("timeZone");

const fromCity = document.getElementById("fromCity");
const toCity = document.getElementById("toCity");
const fromZone = document.getElementById("fromZone");
const toZone = document.getElementById("toZone");
const dashboard = document.getElementById("dashboard");

function populateCities() {
  cities.forEach(city => {
    const opt1 = document.createElement("option");
    opt1.value = city.zone; opt1.textContent = city.name;
    fromCity.appendChild(opt1);

    const opt2 = document.createElement("option");
    opt2.value = city.zone; opt2.textContent = city.name;
    toCity.appendChild(opt2);
  });
}

function populateTimeZones() {
  timeZones.forEach(zone => {
    const opt1 = document.createElement("option");
    const opt2 = document.createElement("option");
    opt1.value = opt2.value = zone;
    opt1.textContent = zone;
    opt2.textContent = zone;
    fromZone.appendChild(opt1);
    toZone.appendChild(opt2);
  });
}

fromCity.addEventListener("change", ()=> fromZone.value = fromCity.value);
toCity.addEventListener("change", ()=> toZone.value = toCity.value);

populateCities();
populateTimeZones();
fromCity.value = fromZone.value = Intl.DateTimeFormat().resolvedOptions().timeZone;
toCity.value = toZone.value = "UTC";

function convertTime() {
  const dateInput = document.getElementById("dateInput").value;
  const from = fromZone.value; const to = toZone.value;
  const resultBox = document.getElementById("outputResult");
  if(!dateInput){ resultBox.textContent = "âš ï¸ Select a date or see the live clocks below."; return; }
  try {
    const date = new Date(dateInput);
    const fromTime = new Date(date.toLocaleString("en-US",{timeZone:from}));
    const targetTime = new Date(fromTime.toLocaleString("en-US",{timeZone:to}));
    resultBox.textContent = `ðŸ•’ ${from} â†’ ${to}: ${targetTime.toLocaleString()}`;
  } catch(e){ resultBox.textContent = "âŒ Error converting time."; }
}

function copyResult() {
  const text = document.getElementById("outputResult").textContent;
  if(!text) return;
  navigator.clipboard.writeText(text).then(()=>alert("âœ… Result copied!")).catch(()=>alert("âŒ Failed."));
}

function toggleDarkMode() { document.body.classList.toggle("dark-mode"); }

let dashboardCities = [...cities];

function renderDashboard(){
  dashboard.innerHTML="";
  dashboardCities.forEach((c,index)=>{
    const now = new Date();
    const time = new Date(now.toLocaleString("en-US",{timeZone:c.zone}));
    const card = document.createElement("div");
    card.className="card";
    card.innerHTML=`<div class="flag">${c.flag}</div><div class="city-name">${c.name}</div><div class="time" id="time-${index}">${time.toLocaleTimeString()}</div><button class="remove-btn" onclick="removeCity(${index})">Remove</button>`;
    dashboard.appendChild(card);
  });
}

function updateDashboardTime(){
  dashboardCities.forEach((c,index)=>{
    const now = new Date();
    const time = new Date(now.toLocaleString("en-US",{timeZone:c.zone}));
    const timeDiv = document.getElementById(`time-${index}`);
    if(timeDiv) timeDiv.textContent = time.toLocaleTimeString();
  });
}

function removeCity(index){
  dashboardCities.splice(index,1);
  renderDashboard();
}

function sortDashboard(by){
  if(by==="name") dashboardCities.sort((a,b)=>a.name.localeCompare(b.name));
  else if(by==="time") dashboardCities.sort((a,b)=>{
    const tA = new Date(new Date().toLocaleString("en-US",{timeZone:a.zone}));
    const tB = new Date(new Date().toLocaleString("en-US",{timeZone:b.zone}));
    return tA-tB;
  });
  renderDashboard();
}

renderDashboard();
setInterval(updateDashboardTime,1000);
</script>
</body>
</html>
